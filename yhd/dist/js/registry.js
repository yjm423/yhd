"use strict";!function(){var o=!0,a=!0,n=!0,s=!0,e=!0;$("#username").on("blur",function(){if(""!==$(this).val()){var t=$("#username").val();if(regStr=/^[\\u4e00-\\u9fa5_a-zA-Z0-9-]{1,16}$/,!regStr.test(t))return $(".user_info").html("16位以内的字母、数字、下划线组成"),o=!1;$.ajax({type:"post",url:"http://localhost/project/yhd/yhd/lib/registry.php",data:{xingming:$(this).val()},success:function(t){o=t?($(".user_info").html("用户已存在"),!1):($(".user_info").html("√"),!0)}})}else $(".user_info").html("用户名不能为空"),o=!1}),$("#phone").on("blur",function(){!function(){var t=$("#phone").val();if(""!==t){if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(t))return $(".phone_info").html("手机号码有误，请重填"),a=!1;$(".phone_info").html("√"),a=!0}else $(".phone_info").html("手机号不能为空"),a=!1}()});var l=[/^.{6,16}$/,/[A-Z]+/,/[a-z]+/,/\d+/,/\W+/];$("#password").on("keyup",function(){var t=l.map(function(t){return t.test($("#password").val())}),o=t.reduce(function(t,o){return o&&t.count++,t},{count:0}),a=$(".pass_info");switch(o.count){case 1:case 2:a.html("太弱"),e=!1;break;case 3:t[0]&&a.html("弱"),e=!0;break;case 4:t[0]&&a.html("中"),e=!0;break;case 5:a.html("强"),e=!0}}),$("#password").on("blur",function(){e=""!==$(this).val()?6<=$(this).val().length&&$(this).val().length<=12?($(".pass_info").html("√"),!0):($(".pass_info").html("密码由6到12位字符组成"),!1):($(".pass_info").html("密码不能为空"),!1)}),$("#againpass").on("blur",function(){s=""!==$(this).val()?$("#password").val()!==$("#againpass").val()?($(".againpass_info").html("密码输入错误"),!1):($(".againpass_info").html("√"),!0):($(".againpass_info").html("密码不能为空"),!1)}),$("#yzm").on("blur",function(){n=""!==$(this).val()?$(this).val()==$(".get_yzm").html()?($(".yzm_info").html("√"),!0):($(".yzm_info").html("验证码输入错误"),!1):($(".yzm_info").html("验证码不能为空"),!1)}),$.fn.code_Obj=function(t){var e=$(this),o={code_l:t.codeLength,codeChars:[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],codeColors:["#f44336","#009688","#cddc39","#03a9f4","#9c27b0","#5e4444","#9ebf9f","#ffc8c4","#2b4754","#b4ced9","#835f53","#aa677e"],code_Init:function(){for(var t="",o="",a=e.find("#data_code"),n=0;n<this.code_l;n++){var s=Math.floor(52*Math.random());t+=this.codeChars[s]}for(n=0;n<this.codeColors.length;n++){s=Math.floor(12*Math.random());o=this.codeColors[s]}$(".get_yzm").html(t),a&&(a.css("color",o),a.className="code",a.text(t),a.attr("data-value",t))}};o.code_Init(),e.find("#data_code").bind("click",function(){o.code_Init()})},$(".get_yzm").on("click",function(){$("#check-code").code_Obj({codeLength:6})}),$("#rgt_btn").on("click",function(){var t=(""===$("#username").val()&&($(".user_info").html("用户名不能为空"),o=!1),""===$("#phone").val()&&($(".phone_info").html("手机号不能为空"),a=!1),""===$("#yzm").val()&&($(".yzm_info").html("验证码不能为空"),n=!1),""===$("#password").val()&&($(".pass_info").html("密码不能为空"),e=!1),""===$("#againpass").val()&&($(".againpass_info").html("密码不能为空"),s=!1),!!(o&&a&&n&&e&&s));console.log(t),t&&(console.log(t),$.ajax({type:"post",url:"http://localhost/project/yhd/yhd/lib/registry.php",data:{username:$("#username").val(),password:$.md5($("#password").val())},success:function(t){location.href="http://localhost/project/yhd/yhd/src/html/login.html"}}))})}();